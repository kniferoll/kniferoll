@import url("https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&display=swap");
@import "tailwindcss";

@theme {
  /* Custom animations */
  --animate-slideDown: slideDown 0.2s ease-out;
  --animate-slideInFromRight: slideInFromRight 0.2s ease-out;
  --animate-itemSlideIn: itemSlideIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  --animate-itemComplete: itemComplete 0.5s ease-out;
  --animate-itemSort: itemSort 0.4s ease-out;
  --animate-itemDelete: itemDelete 0.3s ease-out forwards;
  --animate-confirmSlideIn: confirmSlideIn 0.2s ease-out;

  @keyframes slideDown {
    from {
      opacity: 0;
      transform: translateY(-8px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slideInFromRight {
    from {
      opacity: 0;
      transform: translateX(8px) scale(0.9);
    }
    to {
      opacity: 1;
      transform: translateX(0) scale(1);
    }
  }

  /* New item slides in with bounce */
  @keyframes itemSlideIn {
    0% {
      opacity: 0;
      transform: translateY(-20px) scale(0.95);
    }
    100% {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  /* Completing an item - scale up with flash (color set via CSS variable) */
  @keyframes itemComplete {
    0% {
      transform: scale(1);
    }
    30% {
      transform: scale(1.02);
      background-color: var(--complete-flash-color);
    }
    100% {
      transform: scale(1);
    }
  }

  /* Sorting animation - fade and scale */
  @keyframes itemSort {
    0% {
      opacity: 0.5;
      transform: scale(0.98);
    }
    100% {
      opacity: 1;
      transform: scale(1);
    }
  }

  /* Delete slides out to the right */
  @keyframes itemDelete {
    to {
      opacity: 0;
      transform: translateX(100%);
    }
  }

  /* Confirm/cancel buttons slide in */
  @keyframes confirmSlideIn {
    from {
      opacity: 0;
      transform: scale(0.8);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }
}

html {
  color-scheme: light dark;
  font-family:
    "DM Sans",
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    sans-serif;
  --complete-flash-color: #dcfce7; /* green-100 for light mode */
}

html,
body {
  /* Prevent iOS Safari scroll bounce/rubber-banding */
  overscroll-behavior: none;
  /* Prevent pull-to-refresh on mobile */
  overscroll-behavior-y: contain;
}

body {
  /* iOS safe area insets for notch/home indicator - edge-to-edge display */
  padding-top: env(safe-area-inset-top);
  padding-bottom: env(safe-area-inset-bottom);
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  /* Ensure body fills viewport */
  min-height: 100vh;
  min-height: 100dvh; /* Dynamic viewport height for mobile */
}

html.dark {
  --complete-flash-color: #064e3b; /* emerald-900 for dark mode - muted green */
}

* {
  @apply transition-colors duration-200;
}

/* Hide scrollbar for horizontal scrolling */
.scrollbar-hide {
  -ms-overflow-style: none; /* IE and Edge */
  scrollbar-width: none; /* Firefox */
}

.scrollbar-hide::-webkit-scrollbar {
  display: none; /* Chrome, Safari and Opera */
}

/* Markdown content styling for help center */
/* Note: Heading styles (h1-h6) are defined in HelpContent.tsx for linkable headers */

.markdown-content p {
  @apply mb-4 leading-relaxed cursor-default;
}

.markdown-content ul {
  @apply list-disc pl-6 mb-4 space-y-1 cursor-default;
}

.markdown-content ol {
  @apply list-decimal pl-6 mb-4 space-y-1 cursor-default;
}

.markdown-content li {
  @apply leading-relaxed cursor-default;
}

.markdown-content a {
  @apply text-orange-500 hover:text-orange-400 underline;
}

.markdown-content strong {
  @apply font-semibold cursor-default;
}

.markdown-content code {
  @apply bg-slate-800 px-1.5 py-0.5 rounded text-sm font-mono cursor-default;
}

.markdown-content pre {
  @apply bg-slate-800 p-4 rounded-lg overflow-x-auto mb-4 cursor-default;
}

.markdown-content blockquote {
  @apply border-l-4 border-orange-500 pl-4 italic my-4 cursor-default;
}

.markdown-content table {
  @apply w-full border-collapse mb-4 cursor-default;
}

.markdown-content th {
  @apply text-left p-2 border-b-2 font-semibold cursor-default;
}

.markdown-content td {
  @apply p-2 border-b cursor-default;
}

.markdown-content hr {
  @apply my-8 border-t cursor-default;
}
